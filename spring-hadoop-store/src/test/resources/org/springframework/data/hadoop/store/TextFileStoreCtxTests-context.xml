<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="https://www.springframework.org/schema/beans"
	xmlns:xsi="https://www.w3.org/2001/XMLSchema-instance"
	xmlns:task="https://www.springframework.org/schema/task"
	xmlns:int="https://www.springframework.org/schema/integration"
	xmlns:int-hadoop="https://www.springframework.org/schema/integration/hadoop"
	xmlns:hdp="https://www.springframework.org/schema/hadoop"
	xsi:schemaLocation="https://www.springframework.org/schema/integration https://www.springframework.org/schema/integration/spring-integration.xsd
		https://www.springframework.org/schema/integration/hadoop https://www.springframework.org/schema/integration/hadoop/spring-integration-hadoop.xsd
		https://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd
		https://www.springframework.org/schema/task https://www.springframework.org/schema/task/spring-task.xsd
		https://www.springframework.org/schema/hadoop https://www.springframework.org/schema/hadoop/spring-hadoop.xsd">

	<task:executor id="taskExecutor" pool-size="2"/>
	<task:scheduler id="taskScheduler" pool-size="2"/>

	<bean id="storeEventPublisher" class="org.springframework.data.hadoop.store.event.DefaultStoreEventPublisher"/>

	<bean id="loggingListener" class="org.springframework.data.hadoop.store.event.LoggingListener">
		<constructor-arg value="INFO"/>
	</bean>

	<bean id="fileNamingStrategy" class="org.springframework.data.hadoop.store.strategy.naming.RollingFileNamingStrategy"/>

	<bean id="testBasePath" class="org.apache.hadoop.fs.Path">
		<constructor-arg value="/tmp"/>
		<constructor-arg value="TextFileStoreCtxTests/default"/>
	</bean>

	<bean id="writer" class="org.springframework.data.hadoop.store.output.TextFileWriter">
		<constructor-arg ref="hadoopConfiguration"/>
		<constructor-arg ref="testBasePath"/>
		<constructor-arg><null/></constructor-arg>
		<property name="idleTimeout" value="1000"/>
		<property name="fileNamingStrategy" ref="fileNamingStrategy"/>
		<property name="inWritingSuffix" value=".tmp"/>
	</bean>

</beans>
